<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editar Servicio - Quetzal Platform</title>
    <link rel="stylesheet" href="../public/css/main.css">
    <link rel="stylesheet" href="../public/css/user.css">
</head>
<body>
    <div class="user-layout">
        <!-- Sidebar -->
        <aside class="user-sidebar" id="userSidebar">
            <!-- Header -->
            <div class="user-sidebar-header">
                <div class="user-sidebar-brand">
                    <span class="user-sidebar-brand-icon">ü¶ú</span>
                    <span>Quetzal</span>
                </div>
            </div>

            <!-- User Profile -->
            <div class="user-sidebar-profile">
                <img id="sidebar-avatar" class="user-sidebar-avatar" src="https://ui-avatars.com/api/?name=Usuario&size=128&background=8b5cf6&color=fff" alt="Avatar">
                <div class="user-sidebar-name" id="sidebar-user-name">Cargando...</div>
                <div class="user-sidebar-email" id="sidebar-user-email">usuario@email.com</div>
                <div class="user-sidebar-balance">
                    <div class="user-sidebar-balance-label">Balance Disponible</div>
                    <div class="user-sidebar-balance-amount">
                        <span>üí∞</span>
                        <span id="sidebar-balance">Q 0.00</span>
                    </div>
                </div>
            </div>

            <!-- Navigation -->
            <nav class="user-sidebar-nav">
                <div class="user-sidebar-nav-title">Men√∫ Principal</div>
                <a href="dashboard.html" class="user-sidebar-nav-item">
                    <span class="user-sidebar-nav-icon">üìä</span>
                    <span class="user-sidebar-nav-text">Dashboard</span>
                </a>
                <a href="services.html" class="user-sidebar-nav-item active">
                    <span class="user-sidebar-nav-icon">‚ö°</span>
                    <span class="user-sidebar-nav-text">Servicios</span>
                </a>
                <a href="messages.html" class="user-sidebar-nav-item">
                    <span class="user-sidebar-nav-icon">üí¨</span>
                    <span class="user-sidebar-nav-text">Mensajes</span>
                    <span class="user-sidebar-nav-badge" id="messages-badge">3</span>
                </a>
                <a href="wallet.html" class="user-sidebar-nav-item">
                    <span class="user-sidebar-nav-icon">üí∞</span>
                    <span class="user-sidebar-nav-text">Billetera</span>
                </a>
                <a href="contracts.html" class="user-sidebar-nav-item">
                    <span class="user-sidebar-nav-icon">üìÑ</span>
                    <span class="user-sidebar-nav-text">Mis Contratos</span>
                </a>

                <div class="user-sidebar-nav-title">Mi Cuenta</div>
                <a href="profile.html" class="user-sidebar-nav-item">
                    <span class="user-sidebar-nav-icon">üë§</span>
                    <span class="user-sidebar-nav-text">Perfil</span>
                </a>
                <a href="create-service.html" class="user-sidebar-nav-item">
                    <span class="user-sidebar-nav-icon">‚ûï</span>
                    <span class="user-sidebar-nav-text">Publicar Servicio</span>
                </a>
            </nav>

            <!-- Footer -->
            <div class="user-sidebar-footer">
                <button class="user-sidebar-logout" id="logout-btn">
                    <span>üö™</span>
                    <span>Cerrar Sesi√≥n</span>
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="user-main">
            <!-- Top Bar -->
            <div class="user-topbar">
                <div class="user-topbar-left">
                    <button class="user-toggle-btn" id="sidebarToggle">
                        <span>‚ò∞</span>
                    </button>
                    <div>
                        <div class="user-topbar-title">Editar Servicio</div>
                        <div class="user-topbar-breadcrumb">
                            <a href="dashboard.html">Inicio</a>
                            <span>‚Ä∫</span>
                            <a href="services.html">Servicios</a>
                            <span>‚Ä∫</span>
                            <span>Editar</span>
                        </div>
                    </div>
                </div>
                <div class="user-topbar-right">
                    <a href="services.html" class="btn btn-secondary btn-sm">
                        ‚Üê Volver
                    </a>
                    <button class="user-topbar-notifications">
                        <span>üîî</span>
                        <span class="user-topbar-notifications-badge">5</span>
                    </button>
                </div>
            </div>

            <!-- Content -->
            <div class="user-content">
                <!-- Page Header -->
                <div class="user-page-header">
                    <h1 class="user-page-title">üìù Actualiza tu Servicio</h1>
                    <p class="user-page-subtitle">Modifica la informaci√≥n de tu servicio</p>
                </div>

                <div class="container-sm">
                    <div class="card">
                        <div id="alert-container"></div>            <!-- Loading State -->
            <div id="loading-state" class="flex-center p-6">
            <div class="spinner"></div>
            </div>

            <!-- Form -->
            <form id="edit-service-form" class="d-none">
            <input type="hidden" id="serviceId" name="serviceId">

            <!-- Informaci√≥n B√°sica -->
            <div class="form-section">
                <h3 class="form-section-title">Informaci√≥n B√°sica</h3>

                <div class="form-group">
                <label for="title" class="form-label form-label-required">T√≠tulo del Servicio</label>
                <input 
                    type="text" 
                    id="title" 
                    name="title"
                    class="form-input" 
                    required
                    maxlength="100">
                <span class="form-help" id="title-counter">0/100 caracteres</span>
                <span class="form-error" id="title-error"></span>
                </div>

                <div class="form-group">
                <label for="category" class="form-label form-label-required">Categor√≠a</label>
                <select id="category" name="category" class="form-select" required>
                    <option value="">Selecciona una categor√≠a</option>
                    <option value="desarrollo">Desarrollo y Programaci√≥n</option>
                    <option value="diseno">Dise√±o Gr√°fico</option>
                    <option value="marketing">Marketing Digital</option>
                    <option value="escritura">Escritura y Traducci√≥n</option>
                    <option value="video">Video y Animaci√≥n</option>
                    <option value="musica">M√∫sica y Audio</option>
                    <option value="negocios">Negocios y Consultor√≠a</option>
                    <option value="educacion">Educaci√≥n y Tutor√≠as</option>
                    <option value="lifestyle">Estilo de Vida</option>
                    <option value="otros">Otros</option>
                </select>
                <span class="form-error" id="category-error"></span>
                </div>

                <div class="form-group">
                <label for="description" class="form-label form-label-required">Descripci√≥n</label>
                <textarea 
                    id="description" 
                    name="description"
                    class="form-textarea" 
                    required
                    maxlength="1000"></textarea>
                <span class="form-help" id="description-counter">0/1000 caracteres</span>
                <span class="form-error" id="description-error"></span>
                </div>
            </div>

            <!-- Precio y Disponibilidad -->
            <div class="form-section">
                <h3 class="form-section-title">Precio y Disponibilidad</h3>"
                    style="min-height: 150px;"></textarea>
                <span class="form-help" id="description-counter">0/1000 caracteres</span>
                <span class="form-error" id="description-error"></span>
                </div>
            </div>

            <!-- Precio y Disponibilidad -->
            <div style="margin-bottom: 2rem;">
                <h3 class="section-subtitle">Precio y Disponibilidad</h3>

                <div class="grid grid-cols-2">
                <div class="form-group">
                    <label for="price" class="form-label form-label-required">Precio en Quetzales (Q)</label>
                    <input 
                    type="number" 
                    id="price" 
                    name="price"
                    class="form-input" 
                    step="0.1"
                    min="0.1"
                    required>
                    <span class="form-help" id="price-cop">‚âà $0 COP</span>
                    <span class="form-error" id="price-error"></span>
                </div>

                <div class="form-group">
                    <label for="deliveryTime" class="form-label form-label-required">Tiempo de Entrega</label>
                    <select id="deliveryTime" name="deliveryTime" class="form-select" required>
                    <option value="">Selecciona</option>
                    <option value="1">1 d√≠a</option>
                    <option value="2">2 d√≠as</option>
                    <option value="3">3 d√≠as</option>
                    <option value="5">5 d√≠as</option>
                    <option value="7">1 semana</option>
                    <option value="14">2 semanas</option>
                    <option value="30">1 mes</option>
                    <option value="custom">Personalizado</option>
                    </select>
                    <span class="form-error" id="deliveryTime-error"></span>
                </div>
                </div>

                <div class="form-group">
                <label for="availability" class="form-label form-label-required">Estado</label>
                <select id="availability" name="availability" class="form-select" required>
                    <option value="active">Activo - Recibir solicitudes</option>
                    <option value="inactive">Inactivo - No visible</option>
                    <option value="paused">Pausado - Visible pero sin solicitudes</option>
                </select>
                <span class="form-error" id="availability-error"></span>
                </div>
            </div>

            <!-- Im√°genes Actuales -->
            <div class="form-section">
                <h3 class="form-section-title">Im√°genes Actuales</h3>
                <div id="current-images" class="images-preview-grid"></div>
            </div>

            <!-- Nuevas Im√°genes -->
            <div class="form-section">
                <h3 class="form-section-title">Agregar Nuevas Im√°genes</h3>

                <div class="form-group">
                <label for="images" class="form-label">Subir Im√°genes</label>
                <input 
                    type="file" 
                    id="images" 
                    name="images"
                    accept="image/*"
                    multiple
                    class="form-input p-3">
                <span class="form-help">Formatos: JPG, PNG, GIF. Tama√±o m√°ximo: 5MB por imagen</span>
                <span class="form-error" id="images-error"></span>
                </div>

                <div id="images-preview" class="images-preview-grid"></div>
            </div>

            <!-- Requisitos del Cliente -->
            <div class="form-section">
                <h3 class="form-section-title">Requisitos del Cliente</h3>

                <div class="form-group">
                <label for="requirements" class="form-label">¬øQu√© necesitas del cliente para comenzar?</label>
                <textarea 
                    id="requirements" 
                    name="requirements"
                    class="form-textarea" 
                    maxlength="500"></textarea>
                <span class="form-help" id="requirements-counter">0/500 caracteres</span>
                </div>
            </div>

            <!-- Botones -->
            <div class="flex gap-2" style="justify-content: space-between;">
                <button type="button" class="btn btn-secondary" style="background-color: var(--error); color: white;" id="delete-btn">
                Eliminar Servicio
                </button>
                <div class="flex gap-2">
                <a href="services.html" class="btn btn-secondary">Cancelar</a>
                <button type="submit" class="btn btn-primary" id="submit-btn">
                    Guardar Cambios
                </button>
                </div>
            </div>
            </form>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Overlay para m√≥viles -->
    <div class="user-sidebar-overlay" id="sidebarOverlay"></div>

    <script src="../public/js/utils.js"></script>
    <script src="../public/js/api.js"></script>
    <script src="../public/js/user-sidebar.js"></script>
    <script src="../public/js/edit-service.js"></script>
    <script src="../public/js/app.js"></script>
</body>
</html>
